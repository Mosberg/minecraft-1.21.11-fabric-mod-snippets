{
  "Block Entity with Inventory": {
    "prefix": "blockentity.inventory",
    "description": "Block entity implementing inventory",
    "body": [
      "public class ${1:MyBlockEntity} extends BlockEntity implements Inventory {",
      "    private final DefaultedList<ItemStack> inventory = DefaultedList.ofSize(${2:9}, ItemStack.EMPTY);",
      "    ",
      "    public ${1:MyBlockEntity}(BlockPos pos, BlockState state) {",
      "        super(${3:MOD_BLOCK_ENTITIES.MY_BLOCK_ENTITY}, pos, state);",
      "    }",
      "    ",
      "    @Override",
      "    public int size() {",
      "        return inventory.size();",
      "    }",
      "    ",
      "    @Override",
      "    public boolean isEmpty() {",
      "        return inventory.stream().allMatch(ItemStack::isEmpty);",
      "    }",
      "    ",
      "    @Override",
      "    public ItemStack getStack(int slot) {",
      "        return inventory.get(slot);",
      "    }",
      "    ",
      "    @Override",
      "    public ItemStack removeStack(int slot, int amount) {",
      "        ItemStack result = Inventories.splitStack(inventory, slot, amount);",
      "        if (!result.isEmpty()) {",
      "            markDirty();",
      "        }",
      "        return result;",
      "    }",
      "    ",
      "    @Override",
      "    public ItemStack removeStack(int slot) {",
      "        return Inventories.removeStack(inventory, slot);",
      "    }",
      "    ",
      "    @Override",
      "    public void setStack(int slot, ItemStack stack) {",
      "        inventory.set(slot, stack);",
      "        if (stack.getCount() > getMaxCountPerStack()) {",
      "            stack.setCount(getMaxCountPerStack());",
      "        }",
      "        markDirty();",
      "    }",
      "    ",
      "    @Override",
      "    public boolean canPlayerUse(PlayerEntity player) {",
      "        return Inventory.canPlayerUse(this, player);",
      "    }",
      "    ",
      "    @Override",
      "    public void clear() {",
      "        inventory.clear();",
      "    }",
      "    ",
      "    @Override",
      "    public void readNbt(NbtCompound nbt) {",
      "        super.readNbt(nbt);",
      "        Inventories.readNbt(nbt, inventory);",
      "    }",
      "    ",
      "    @Override",
      "    protected void writeNbt(NbtCompound nbt) {",
      "        super.writeNbt(nbt);",
      "        Inventories.writeNbt(nbt, inventory);",
      "    }",
      "}",
      "$0"
    ]
  }
}
